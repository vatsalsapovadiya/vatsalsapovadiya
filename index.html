<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>root@kali:~ | SOC Portfolio</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --kali-bg: #0d1117;
            --kali-blue: #2aa198;
            --kali-red: #dc322f;
            --text-main: #f8f8f2;
            --font-mono: 'JetBrains Mono', monospace;
            --font-sans: 'Inter', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--kali-bg);
            color: var(--text-main);
            font-family: var(--font-sans);
            overflow-x: hidden;
            width: 100%;
        }

        /* --- LAYOUT --- */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 5rem 1.5rem 100px 1.5rem;
        }

        /* --- TERMINAL WINDOW (The Core) --- */
        .terminal-window {
            background: rgba(15, 15, 15, 0.95);
            border: 1px solid #333;
            border-radius: 6px;
            overflow: hidden;
            font-family: var(--font-mono);
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
            height: 60vh; /* Fixed height for scroll */
            min-height: 400px;
        }

        .terminal-header {
            background: #2d2d2d;
            padding: 10px;
            display: flex;
            gap: 8px;
            border-bottom: 1px solid #333;
            flex-shrink: 0;
        }
        .dot { width: 12px; height: 12px; border-radius: 50%; }
        .red { background: #ff5f56; } .yellow { background: #ffbd2e; } .green { background: #27c93f; }

        /* The Output Area */
        .terminal-body {
            padding: 15px;
            flex-grow: 1;
            overflow-y: auto; /* Scrollable */
            font-size: 0.9rem;
            cursor: text;
        }

        /* Command Styles */
        .line { margin-bottom: 5px; word-wrap: break-word; }
        .prompt { color: var(--kali-red); font-weight: bold; }
        .path { color: var(--kali-blue); font-weight: bold; }
        .command-text { color: #fff; }
        .output { color: #ccc; white-space: pre-wrap; margin-bottom: 10px; line-height: 1.5; }
        .error { color: var(--kali-red); }

        /* The Input Field (Hidden but active) */
        #cmd-input {
            background: transparent;
            border: none;
            color: transparent; /* Text hidden, we mirror it */
            outline: none;
            width: 1px;
            height: 1px;
            opacity: 0;
            position: absolute;
            z-index: -1;
        }

        /* The Visible Cursor Line */
        .input-line {
            display: flex;
            align-items: center;
        }
        .cursor {
            width: 10px;
            height: 1.2em;
            background: #ccc;
            animation: blink 1s infinite;
            margin-left: 2px;
        }
        @keyframes blink { 50% { opacity: 0; } }

        /* Mobile specific: Fix font size to prevent zoom */
        @media(max-width: 768px) {
            .terminal-body { font-size: 16px; } 
        }

        /* --- TOP BAR & DOCK (Visuals) --- */
        .top-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 40px;
            background: #1a1a1a; display: flex; align-items: center;
            padding: 0 1rem; z-index: 5000; border-bottom: 1px solid #333;
            font-size: 0.8rem; justify-content: space-between;
        }
        .dock {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(20,20,20,0.9); padding: 10px 20px; border-radius: 30px;
            display: flex; gap: 20px; border: 1px solid #333; z-index: 4000;
        }
        .dock a { color: #aaa; font-size: 1.5rem; }
    </style>
</head>
<body>

    <nav class="top-bar">
        <div style="color:#fff;"><i class="fa-brands fa-linux"></i> Kali Linux</div>
        <div style="color:#aaa;">root@kali</div>
    </nav>

    <div class="container">
        <div class="terminal-window" onclick="focusInput()">
            <div class="terminal-header">
                <div class="dot red"></div><div class="dot yellow"></div><div class="dot green"></div>
                <span style="color:#888; margin-left:10px; font-size:12px;">bash -- 80x24</span>
            </div>
            
            <div class="terminal-body" id="terminal-output">
                <div class="output">
Welcome to Kali Linux (Portfolio Edition) v2025.1
Type 'help' to see available commands.
                </div>
                <div class="input-line">
                    <span class="prompt">root@kali</span>:<span class="path">~</span>#&nbsp;
                    <span id="typed-text"></span><div class="cursor"></div>
                </div>
            </div>
            
            <input type="text" id="cmd-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        </div>

        <div style="text-align:center; color:#555; font-size:0.8rem; margin-top:20px;">
            <p>Tip: Try commands like <span style="color:var(--kali-blue)">ls</span>, <span style="color:var(--kali-blue)">cd projects</span>, or <span style="color:var(--kali-blue)">cat about.txt</span></p>
        </div>
    </div>

    <div class="dock">
        <a href="#" onclick="runCommand('cd projects; ls')"><i class="fa-solid fa-folder"></i></a>
        <a href="#" onclick="runCommand('cat contact.txt')"><i class="fa-solid fa-envelope"></i></a>
        <a href="#" onclick="runCommand('clear; help')"><i class="fa-solid fa-terminal"></i></a>
    </div>

    <script>
        // --- 1. FILE SYSTEM SIMULATION ---
        // This object represents your "fake" server. Secure & Client-side.
        const fileSystem = {
            "~": {
                "type": "dir",
                "contents": {
                    "projects": { "type": "dir", "contents": {} },
                    "skills": { "type": "dir", "contents": {} },
                    "about.txt": { "type": "file", "content": "I am a SOC Analyst specializing in threat hunting, incident response, and SIEM architecture." },
                    "contact.txt": { "type": "file", "content": "Email: secure@analyst.com\nLinkedIn: linkedin.com/in/analyst" },
                    "mission.txt": { "type": "file", "content": "Protecting digital infrastructure through proactive defense." }
                }
            },
            "~/projects": {
                "type": "dir",
                "contents": {
                    "honeypot.log": { "type": "file", "content": "Project: AWS Honeypot\nStatus: Completed\nDetails: Deployed T-Pot on AWS. Captured 50k+ attacks." },
                    "ransomware_analysis.md": { "type": "file", "content": "Project: LockBit Analysis\nStatus: Ongoing\nDetails: Reverse engineered payload. Extracted C2 IPs." }
                }
            },
            "~/skills": {
                "type": "dir",
                "contents": {
                    "tools.txt": { "type": "file", "content": "- Splunk\n- Wireshark\n- Burp Suite\n- Ghidra" },
                    "languages.txt": { "type": "file", "content": "- Python\n- Bash\n- PowerShell" }
                }
            }
        };

        // --- 2. STATE MANAGEMENT ---
        let currentPath = "~";
        const history = [];
        let historyIndex = -1;

        // --- 3. DOM ELEMENTS ---
        const inputField = document.getElementById('cmd-input');
        const typedTextSpan = document.getElementById('typed-text');
        const terminalOutput = document.getElementById('terminal-output');

        // --- 4. CORE TERMINAL LOGIC ---
        
        // Focus input when clicking anywhere in terminal
        function focusInput() {
            inputField.focus();
        }

        // Mirror typing to the visible span
        inputField.addEventListener('input', (e) => {
            typedTextSpan.innerText = inputField.value;
        });

        // Handle Enter Key
        inputField.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const command = inputField.value.trim();
                if (command) {
                    executeCommand(command);
                    history.push(command);
                    historyIndex = history.length;
                }
                inputField.value = '';
                typedTextSpan.innerText = '';
                scrollToBottom();
            }
        });

        // Execute Command Logic
        function executeCommand(cmdStr) {
            // 1. Create the old command line in the DOM (static)
            const cmdLine = document.createElement('div');
            cmdLine.className = 'line';
            cmdLine.innerHTML = `<span class="prompt">root@kali</span>:<span class="path">${currentPath}</span># <span class="command-text">${cmdStr}</span>`;
            terminalOutput.insertBefore(cmdLine, terminalOutput.lastElementChild);

            // 2. Parse Command
            const parts = cmdStr.split(' ');
            const cmd = parts[0].toLowerCase();
            const arg = parts[1]; // First argument

            // 3. Process Command
            let output = "";
            
            switch(cmd) {
                case 'help':
                    output = "Available commands:\n  ls       List directory contents\n  cd [dir] Change directory\n  cat [file] Display file content\n  whoami   Display current user\n  date     Display system date\n  clear    Clear terminal screen";
                    break;
                
                case 'ls':
                    const dir = fileSystem[currentPath];
                    if(dir) {
                        const items = Object.keys(dir.contents);
                        // Colorize output: Directories blue, Files white
                        output = items.map(item => {
                            const type = dir.contents[item].type;
                            return type === 'dir' ? `<span style="color:#2aa198">${item}/</span>` : item;
                        }).join('  ');
                    } else {
                        output = "Error: Directory not found.";
                    }
                    break;

                case 'cat':
                    if(!arg) {
                        output = "Usage: cat [filename]";
                    } else {
                        const currentDirObj = fileSystem[currentPath];
                        if (currentDirObj.contents[arg] && currentDirObj.contents[arg].type === 'file') {
                            output = currentDirObj.contents[arg].content;
                        } else {
                            output = `cat: ${arg}: No such file or directory`;
                        }
                    }
                    break;

                case 'cd':
                    if (!arg || arg === '~') {
                        currentPath = "~";
                    } else if (arg === "..") {
                        if(currentPath !== "~") {
                            // Simple logic for returning to root (expandable for deeper trees)
                            currentPath = "~"; 
                        }
                    } else {
                        // Check if directory exists in current path
                        const target = currentPath === "~" ? `~/${arg}` : `${currentPath}/${arg}`;
                        // Simplified check (works for this 2-level depth)
                        if (fileSystem["~"].contents[arg] && fileSystem["~"].contents[arg].type === 'dir') {
                             currentPath = `~/${arg}`;
                        } else if (fileSystem[target]) {
                            currentPath = target;
                        } else {
                            output = `cd: ${arg}: No such file or directory`;
                        }
                    }
                    // Update the visible prompt path
                    document.querySelector('.path').innerText = currentPath;
                    break;

                case 'whoami':
                    output = "root (SOC Analyst)";
                    break;
                
                case 'date':
                    output = new Date().toString();
                    break;

                case 'clear':
                    // Remove all previous lines except the original welcome msg (optional)
                    const lines = document.querySelectorAll('.line, .output');
                    lines.forEach(line => line.remove());
                    return; // Exit early so we don't print empty output

                case 'sudo':
                    output = "root@kali:~# User is already root.";
                    break;

                default:
                    output = `bash: ${cmd}: command not found`;
            }

            // 4. Print Output
            if (output) {
                const outputDiv = document.createElement('div');
                outputDiv.className = 'output';
                outputDiv.innerHTML = output;
                terminalOutput.insertBefore(outputDiv, terminalOutput.lastElementChild);
            }
        }

        // Helper to run commands from buttons (Dock)
        function runCommand(fullCmd) {
            const cmds = fullCmd.split(';');
            cmds.forEach(c => executeCommand(c.trim()));
            scrollToBottom();
        }

        function scrollToBottom() {
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
        }

        // Initial Focus
        window.onload = focusInput;

    </script>
</body>
</html>
